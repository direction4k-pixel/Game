<!doctype html>
<html lang="ar" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>أكاديمية كريم لتصميم الجرافيك بالهاتف</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #7C3AED 0%, #00C4B4 100%);
            min-height: 100%;
            color: #1F2937;
        }

        html {
            height: 100%;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .main-title {
            font-size: 3rem;
            font-weight: bold;
            color: white;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .intro-text {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .start-btn {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.3);
        }

        .floating-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .floating-icon {
            position: absolute;
            font-size: 2rem;
            opacity: 0.3;
            animation: float 6s ease-in-out infinite;
        }

        .floating-icon:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .floating-icon:nth-child(2) { top: 60%; right: 15%; animation-delay: 2s; }
        .floating-icon:nth-child(3) { bottom: 30%; left: 20%; animation-delay: 4s; }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #7C3AED;
            text-align: center;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .lessons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .lesson-card {
            background: white;
            border: 2px solid #E5E7EB;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
        }

        .lesson-card:hover {
            border-color: #7C3AED;
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.15);
        }

        .lesson-card.completed {
            border-color: #10B981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
        }

        .lesson-level {
            background: #7C3AED;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            position: absolute;
            top: -10px;
            right: 20px;
        }

        .lesson-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin: 15px 0 10px 0;
            color: #1F2937;
        }

        .lesson-description {
            color: #6B7280;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .lesson-btn {
            background: #7C3AED;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
            width: 100%;
        }

        .lesson-btn:hover {
            background: #6D28D9;
        }

        .lesson-btn:disabled {
            background: #9CA3AF;
            cursor: not-allowed;
        }

        .quiz-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .quiz-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-progress {
            background: #E5E7EB;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .quiz-progress-bar {
            background: #7C3AED;
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .question {
            margin-bottom: 30px;
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #1F2937;
        }

        .answer-option {
            background: #F9FAFB;
            border: 2px solid #E5E7EB;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .answer-option:hover {
            border-color: #7C3AED;
            background: #F3F4F6;
        }

        .answer-option.selected {
            border-color: #7C3AED;
            background: rgba(124, 58, 237, 0.1);
        }

        .answer-option.correct {
            border-color: #10B981;
            background: rgba(16, 185, 129, 0.1);
        }

        .answer-option.incorrect {
            border-color: #EF4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .quiz-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .quiz-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .quiz-btn.primary {
            background: #7C3AED;
            color: white;
        }

        .quiz-btn.primary:hover {
            background: #6D28D9;
        }

        .quiz-btn.secondary {
            background: #6B7280;
            color: white;
        }

        .quiz-btn.secondary:hover {
            background: #4B5563;
        }

        .stats-bar {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }

        .stat-item {
            text-align: center;
            color: white;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .badges-section {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .badge {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #8B4513;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #7C3AED;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .main-title {
                font-size: 2rem;
            }
            
            .cards-grid, .lessons-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-bar {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container"><!-- Header Section -->
   <header class="header">
    <div class="floating-icons">
     <div class="floating-icon">
      📱
     </div>
     <div class="floating-icon">
      🎨
     </div>
     <div class="floating-icon">
      ✨
     </div>
    </div>
    <div class="header-content">
     <h1 class="main-title" id="main-heading">تعلم التصميم الاحترافي من هاتفك فقط 📱</h1>
     <p class="intro-text" id="intro-text">ابدأ رحلتك الإبداعية اليوم من خلال دروس قصيرة وتطبيقات مجانية تساعدك على بناء مهارتك كمصمم محترف.</p><button class="start-btn" id="start-button" onclick="scrollToLessons()">ابدأ الآن</button>
    </div>
   </header><!-- Stats Bar -->
   <div class="stats-bar">
    <div class="stat-item"><span class="stat-number" id="total-xp">0</span> <span class="stat-label">نقاط الخبرة</span>
    </div>
    <div class="stat-item"><span class="stat-number" id="completed-lessons">0</span> <span class="stat-label">دروس مكتملة</span>
    </div>
    <div class="stat-item"><span class="stat-number" id="current-level">1</span> <span class="stat-label">المستوى الحالي</span>
    </div>
   </div><!-- Badges Section -->
   <div class="badges-section" id="badges-container"><!-- Badges will be added dynamically -->
   </div><!-- About Section -->
   <section class="section">
    <h2 class="section-title">🎓 عن أكاديمية كريم</h2>
    <p style="text-align: center; font-size: 1.1rem; line-height: 1.6; color: #6B7280; margin-bottom: 30px;">كريم، مصمم جرافيك شغوف بالتعليم، يقدم محتوى مبسط لكل من يريد تعلم التصميم بالهاتف.</p>
    <div class="cards-grid">
     <div class="card">
      <div class="card-icon">
       🎬
      </div>
      <div class="card-title">
       تعلم خطوة بخطوة
      </div>
      <p>دروس مبسطة ومرتبة تأخذك من المبتدئ إلى المحترف</p>
     </div>
     <div class="card">
      <div class="card-icon">
       🧠
      </div>
      <div class="card-title">
       اختبر نفسك
      </div>
      <p>اختبارات تفاعلية لتأكيد فهمك وتطبيق ما تعلمته</p>
     </div>
     <div class="card">
      <div class="card-icon">
       🏆
      </div>
      <div class="card-title">
       اكسب النقاط وتقدّم
      </div>
      <p>نظام نقاط وشارات تحفيزية لمتابعة تقدمك</p>
     </div>
    </div>
   </section><!-- Lessons Section -->
   <section class="section" id="lessons-section">
    <h2 class="section-title">📚 الدروس التعليمية</h2>
    <div class="lessons-grid" id="lessons-container"><!-- Lessons will be populated by JavaScript -->
    </div>
   </section><!-- Loading Indicator -->
   <div class="loading" id="loading">
    <div class="spinner"></div>
    <p>جاري التحميل...</p>
   </div>
  </div><!-- Quiz Modal -->
  <div class="quiz-modal" id="quiz-modal">
   <div class="quiz-content">
    <div class="quiz-header">
     <h3 id="quiz-title">اختبار الدرس</h3>
     <div class="quiz-progress">
      <div class="quiz-progress-bar" id="quiz-progress"></div>
     </div>
     <p id="quiz-question-counter">السؤال 1 من 5</p>
    </div>
    <div id="quiz-questions-container"><!-- Questions will be populated by JavaScript -->
    </div>
    <div class="quiz-buttons"><button class="quiz-btn secondary" onclick="closeQuiz()">إغلاق</button> <button class="quiz-btn primary" id="next-question-btn" onclick="nextQuestion()">السؤال التالي</button>
    </div>
   </div>
  </div>
  <script>
        // Configuration object for editable features
        const defaultConfig = {
            academy_title: "أكاديمية كريم لتصميم الجرافيك بالهاتف",
            main_heading: "تعلم التصميم الاحترافي من هاتفك فقط 📱",
            intro_text: "ابدأ رحلتك الإبداعية اليوم من خلال دروس قصيرة وتطبيقات مجانية تساعدك على بناء مهارتك كمصمم محترف.",
            start_button_text: "ابدأ الآن",
            background_color: "#7C3AED",
            surface_color: "#FFFFFF",
            text_color: "#1F2937",
            primary_action_color: "#7C3AED",
            secondary_action_color: "#6B7280"
        };

        // Lessons data
        const lessons = [
            // المستوى 1: الأساسيات
            {
                id: 'lesson1',
                level: 'المستوى 1',
                title: 'مقدمة في التصميم الجرافيكي',
                description: 'تعرف على أساسيات التصميم الجرافيكي وأهميته في عصرنا الحالي، وكيف يمكن للهاتف أن يكون أداة قوية للإبداع.',
                xp: 50
            },
            {
                id: 'lesson2',
                level: 'المستوى 1',
                title: 'التعرف على تطبيق Canva',
                description: 'استكشف واجهة Canva وتعلم كيفية إنشاء تصميمك الأول باستخدام القوالب الجاهزة والأدوات الأساسية.',
                xp: 60
            },
            {
                id: 'lesson3',
                level: 'المستوى 1',
                title: 'نظرية الألوان الأساسية',
                description: 'فهم عجلة الألوان والتناسق اللوني وكيفية اختيار الألوان المناسبة لتصميماتك.',
                xp: 70
            },
            {
                id: 'lesson4',
                level: 'المستوى 1',
                title: 'التعامل مع النصوص والخطوط',
                description: 'تعلم كيفية اختيار الخطوط المناسبة وتنسيق النصوص لتحقيق أفضل قراءة وجاذبية بصرية.',
                xp: 65
            },
            {
                id: 'lesson5',
                level: 'المستوى 1',
                title: 'استخدام الصور والأيقونات',
                description: 'كيفية البحث عن الصور المناسبة وتحريرها واستخدام الأيقونات لتعزيز رسالتك البصرية.',
                xp: 75
            },

            // المستوى 2: التكوين والتوازن
            {
                id: 'lesson6',
                level: 'المستوى 2',
                title: 'قواعد التكوين والتوازن',
                description: 'تعلم قاعدة الأثلاث والتوازن البصري وكيفية ترتيب العناصر لتحقيق تصميم متناسق.',
                xp: 80
            },
            {
                id: 'lesson7',
                level: 'المستوى 2',
                title: 'التعرف على Pixellab',
                description: 'استكشف تطبيق Pixellab وتعلم كيفية إضافة النصوص ثلاثية الأبعاد والتأثيرات المتقدمة.',
                xp: 85
            },
            {
                id: 'lesson8',
                level: 'المستوى 2',
                title: 'التأثيرات والفلاتر',
                description: 'تطبيق التأثيرات البصرية والفلاتر لإضافة عمق وجاذبية لتصميماتك.',
                xp: 90
            },
            {
                id: 'lesson9',
                level: 'المستوى 2',
                title: 'تصميم الشعارات البسيطة',
                description: 'خطوات إنشاء شعار بسيط وفعال باستخدام الأشكال الأساسية والنصوص.',
                xp: 95
            },
            {
                id: 'lesson10',
                level: 'المستوى 2',
                title: 'التصميم للشبكات الاجتماعية',
                description: 'تعلم المقاسات المناسبة لكل منصة وكيفية تصميم منشورات جذابة وفعالة.',
                xp: 100
            },

            // المستوى 3: التصميم الاحترافي
            {
                id: 'lesson11',
                level: 'المستوى 3',
                title: 'التعرف على Ibis Paint',
                description: 'استكشف إمكانيات الرسم الرقمي والتصميم المتقدم باستخدام Ibis Paint.',
                xp: 110
            },
            {
                id: 'lesson12',
                level: 'المستوى 3',
                title: 'تحريك التصاميم مع CapCut',
                description: 'تعلم كيفية إضافة الحركة والانتقالات لتصميماتك لجعلها أكثر تفاعلاً.',
                xp: 120
            },
            {
                id: 'lesson13',
                level: 'المستوى 3',
                title: 'بناء الهوية البصرية',
                description: 'تطوير هوية بصرية متكاملة تشمل الألوان والخطوط والأسلوب العام.',
                xp: 130
            },
            {
                id: 'lesson14',
                level: 'المستوى 3',
                title: 'مشروع التخرج: بروشور تجاري',
                description: 'تطبيق جميع المهارات المكتسبة في إنشاء بروشور تجاري احترافي.',
                xp: 150
            },
            {
                id: 'lesson15',
                level: 'المستوى 3',
                title: 'نصائح للعمل الحر والتسويق',
                description: 'كيفية تسويق خدماتك كمصمم والعمل مع العملاء وبناء محفظة أعمال قوية.',
                xp: 140
            }
        ];

        // Quiz questions for each lesson
        const quizzes = {
            lesson1: [
                { q: "ما الهدف الأساسي من التصميم الجرافيكي؟", a: ["إيصال فكرة أو رسالة بصريًا", "الترفيه فقط", "إضافة مؤثرات جميلة"], correct: 0 },
                { q: "أي من هذه الأجهزة يمكن استخدامها للتصميم الجرافيكي؟", a: ["الهاتف الذكي", "الحاسوب فقط", "الكاميرا فقط"], correct: 0 },
                { q: "ما أهمية التصميم الجرافيكي في التسويق؟", a: ["يجذب انتباه العملاء", "يقلل التكاليف", "يسرع الإنتاج"], correct: 0 },
                { q: "أي من هذه العناصر أساسي في التصميم؟", a: ["التوازن البصري", "السرعة", "الصوت"], correct: 0 },
                { q: "ما الفرق بين التصميم الرقمي والتقليدي؟", a: ["الرقمي يستخدم الحاسوب والهاتف", "لا يوجد فرق", "التقليدي أفضل دائماً"], correct: 0 }
            ],
            lesson2: [
                { q: "ما هو تطبيق Canva؟", a: ["تطبيق تصميم جرافيكي سهل الاستخدام", "تطبيق للتصوير", "تطبيق للموسيقى"], correct: 0 },
                { q: "ما فائدة القوالب الجاهزة في Canva؟", a: ["توفر الوقت وتعطي أفكار للتصميم", "تجعل التصميم صعباً", "غير مفيدة"], correct: 0 },
                { q: "كيف يمكن الوصول لمكتبة الصور في Canva؟", a: ["من قسم Elements أو Photos", "غير متوفرة", "من الإعدادات فقط"], correct: 0 },
                { q: "ما أهمية طبقات التصميم في Canva؟", a: ["تنظيم العناصر والتحكم بترتيبها", "لا فائدة منها", "تعقد التصميم"], correct: 0 },
                { q: "كيف يمكن حفظ التصميم في Canva؟", a: ["من زر Download أو Share", "لا يمكن حفظه", "تلقائياً فقط"], correct: 0 }
            ],
            lesson3: [
                { q: "ما هي الألوان الأساسية؟", a: ["الأحمر والأزرق والأصفر", "الأسود والأبيض", "الأخضر والبرتقالي"], correct: 0 },
                { q: "ما المقصود بالتناسق اللوني؟", a: ["اختيار ألوان تتماشى مع بعضها", "استخدام لون واحد فقط", "استخدام ألوان عشوائية"], correct: 0 },
                { q: "ما تأثير الألوان الدافئة على المشاهد؟", a: ["تعطي شعور بالدفء والطاقة", "تعطي شعور بالبرودة", "لا تأثير لها"], correct: 0 },
                { q: "متى نستخدم الألوان الباردة؟", a: ["للتعبير عن الهدوء والاسترخاء", "للإثارة والحماس", "في جميع الأوقات"], correct: 0 },
                { q: "ما أهمية التباين اللوني؟", a: ["يجعل النص واضحاً ومقروءاً", "يجعل التصميم مملاً", "غير مهم"], correct: 0 }
            ],
            lesson4: [
                { q: "ما أهمية اختيار الخط المناسب؟", a: ["يؤثر على وضوح الرسالة وجاذبيتها", "غير مهم", "يعقد التصميم"], correct: 0 },
                { q: "متى نستخدم الخطوط الكبيرة؟", a: ["للعناوين والنصوص المهمة", "للنصوص الطويلة", "لا نستخدمها أبداً"], correct: 0 },
                { q: "ما الفرق بين Serif و Sans-serif؟", a: ["Serif له زخارف صغيرة، Sans-serif بسيط", "لا يوجد فرق", "Sans-serif أقدم"], correct: 0 },
                { q: "كيف نحقق التسلسل الهرمي في النصوص؟", a: ["باستخدام أحجام وأوزان مختلفة", "بنفس الحجم للكل", "بألوان مختلفة فقط"], correct: 0 },
                { q: "ما أهمية المسافات بين الأسطر؟", a: ["تحسن قابلية القراءة", "تضيع المساحة", "غير مهمة"], correct: 0 }
            ],
            lesson5: [
                { q: "ما أهمية جودة الصورة في التصميم؟", a: ["تؤثر على الانطباع العام والاحترافية", "غير مهمة", "تبطئ التحميل فقط"], correct: 0 },
                { q: "متى نستخدم الأيقونات؟", a: ["لتوضيح المعاني بسرعة", "للزينة فقط", "لملء الفراغات"], correct: 0 },
                { q: "ما المقصود بحقوق الطبع للصور؟", a: ["إذن استخدام الصورة من مالكها", "لا يهم", "متاح للجميع"], correct: 0 },
                { q: "كيف نختار الصور المناسبة للتصميم؟", a: ["تتماشى مع الرسالة والألوان", "أي صورة جميلة", "الأكبر حجماً"], correct: 0 },
                { q: "ما فائدة تحرير الصور قبل الاستخدام؟", a: ["تحسين الجودة والتناسق مع التصميم", "إضاعة الوقت", "تقليل الجودة"], correct: 0 }
            ],
            lesson6: [
                { q: "ما هي قاعدة الأثلاث؟", a: ["تقسيم التصميم لثلاثة أجزاء متساوية", "استخدام ثلاثة ألوان", "ثلاثة خطوط فقط"], correct: 0 },
                { q: "ما المقصود بالتوازن في التصميم؟", a: ["توزيع العناصر بشكل متناسق", "جعل كل شيء في المنتصف", "استخدام نفس الحجم"], correct: 0 },
                { q: "متى نستخدم التوازن غير المتماثل؟", a: ["لإضافة ديناميكية وحيوية", "عند الخطأ", "لا نستخدمه أبداً"], correct: 0 },
                { q: "ما أهمية النقطة المحورية؟", a: ["تجذب انتباه المشاهد أولاً", "تشتت الانتباه", "غير مهمة"], correct: 0 },
                { q: "كيف نحقق الوحدة في التصميم؟", a: ["باستخدام عناصر متناسقة ومترابطة", "بالعشوائية", "بألوان مختلفة تماماً"], correct: 0 }
            ],
            lesson7: [
                { q: "ما يميز تطبيق Pixellab؟", a: ["التأثيرات ثلاثية الأبعاد للنصوص", "التصوير فقط", "تحرير الفيديو"], correct: 0 },
                { q: "كيف نضيف تأثير الظل للنص؟", a: ["من قائمة Effects ثم Shadow", "غير متوفر", "تلقائياً"], correct: 0 },
                { q: "ما فائدة طبقات النص المتعددة؟", a: ["إنشاء تصاميم معقدة ومتنوعة", "تعقيد غير مفيد", "إبطاء التطبيق"], correct: 0 },
                { q: "كيف نغير لون الخلفية في Pixellab؟", a: ["من Background ثم اختيار اللون", "لا يمكن تغييرها", "من الإعدادات فقط"], correct: 0 },
                { q: "ما أهمية معاينة التصميم قبل الحفظ؟", a: ["للتأكد من النتيجة النهائية", "إضاعة وقت", "غير ضرورية"], correct: 0 }
            ],
            lesson8: [
                { q: "ما الهدف من استخدام الفلاتر؟", a: ["تحسين مظهر التصميم وإضافة طابع خاص", "إخفاء الأخطاء فقط", "تعقيد التصميم"], correct: 0 },
                { q: "متى نستخدم تأثير الضبابية (Blur)؟", a: ["لإبراز عنصر معين أو خلفية ناعمة", "دائماً", "لا نستخدمه أبداً"], correct: 0 },
                { q: "ما تأثير الإضاءة على التصميم؟", a: ["يضيف عمق وبُعد ثالث", "يجعله مظلماً", "لا تأثير له"], correct: 0 },
                { q: "كيف نحافظ على التوازن عند إضافة التأثيرات؟", a: ["بعدم الإفراط واختيار المناسب للهدف", "بإضافة كل التأثيرات", "بتجنبها تماماً"], correct: 0 },
                { q: "ما أهمية التدرج اللوني؟", a: ["يضيف انتقال ناعم بين الألوان", "يشوش التصميم", "صعب الاستخدام"], correct: 0 }
            ],
            lesson9: [
                { q: "ما خصائص الشعار الجيد؟", a: ["البساطة والوضوح والتميز", "التعقيد والألوان الكثيرة", "الحجم الكبير فقط"], correct: 0 },
                { q: "لماذا نبدأ بالأشكال الأساسية؟", a: ["سهولة التذكر والتطبيق", "لأنها الوحيدة المتاحة", "لتوفير الوقت فقط"], correct: 0 },
                { q: "ما أهمية اختبار الشعار بأحجام مختلفة؟", a: ["للتأكد من وضوحه في جميع الاستخدامات", "غير مهم", "للزينة"], correct: 0 },
                { q: "متى نستخدم الألوان في الشعار؟", a: ["عندما تخدم الهوية والرسالة", "دائماً", "لا نستخدمها أبداً"], correct: 0 },
                { q: "ما الفرق بين الشعار والهوية البصرية؟", a: ["الشعار جزء من الهوية الشاملة", "لا يوجد فرق", "الهوية أقل أهمية"], correct: 0 }
            ],
            lesson10: [
                { q: "لماذا تختلف مقاسات التصميم بين المنصات؟", a: ["لكل منصة متطلبات عرض مختلفة", "لا يوجد سبب", "للتعقيد فقط"], correct: 0 },
                { q: "ما المقاس المناسب لمنشور Instagram؟", a: ["1080x1080 بكسل (مربع)", "أي مقاس", "1920x1080 فقط"], correct: 0 },
                { q: "كيف نجعل المنشور جذاباً بصرياً؟", a: ["بالألوان المتناسقة والنص الواضح", "بالألوان الصارخة فقط", "بالنص الكثير"], correct: 0 },
                { q: "ما أهمية الاتساق في منشورات الحساب؟", a: ["يبني هوية بصرية قوية ومميزة", "غير مهم", "يجعلها مملة"], correct: 0 },
                { q: "متى نستخدم النصوص الطويلة في المنشور؟", a: ["عند الحاجة لشرح مفصل مع تنسيق جيد", "دائماً", "لا نستخدمها أبداً"], correct: 0 }
            ],
            lesson11: [
                { q: "ما يميز Ibis Paint عن التطبيقات الأخرى؟", a: ["أدوات الرسم المتقدمة والطبقات", "السهولة فقط", "لا يوجد فرق"], correct: 0 },
                { q: "ما فائدة نظام الطبقات؟", a: ["تنظيم العمل وسهولة التعديل", "تعقيد غير مفيد", "إبطاء التطبيق"], correct: 0 },
                { q: "متى نستخدم أداة القلم؟", a: ["للرسم الحر والخطوط المنحنية", "للنصوص فقط", "لا نستخدمها"], correct: 0 },
                { q: "ما أهمية الفرش المختلفة؟", a: ["تعطي تأثيرات وملمس متنوع", "للزينة فقط", "تشتت الانتباه"], correct: 0 },
                { q: "كيف نحفظ العمل بجودة عالية؟", a: ["بتصدير بصيغة PNG أو JPG عالية الدقة", "أي طريقة", "لا يمكن حفظه"], correct: 0 }
            ],
            lesson12: [
                { q: "ما الهدف من تحريك التصاميم؟", a: ["جذب الانتباه وإيصال الرسالة بفعالية", "التعقيد فقط", "إضاعة الوقت"], correct: 0 },
                { q: "ما أنواع الحركة الأساسية؟", a: ["الانتقال والتكبير والدوران", "الاهتزاز فقط", "لا توجد أنواع"], correct: 0 },
                { q: "كيف نتحكم في سرعة الحركة؟", a: ["من إعدادات المدة الزمنية", "لا يمكن التحكم", "تلقائياً فقط"], correct: 0 },
                { q: "ما أهمية التوقيت في الحركة؟", a: ["يؤثر على إيقاع وجاذبية التصميم", "غير مهم", "يعقد العمل"], correct: 0 },
                { q: "متى نستخدم الانتقالات الناعمة؟", a: ["للحصول على حركة طبيعية ومريحة", "دائماً", "لا نستخدمها"], correct: 0 }
            ],
            lesson13: [
                { q: "ما المقصود بالهوية البصرية؟", a: ["مجموعة العناصر التي تميز العلامة", "الشعار فقط", "الألوان فقط"], correct: 0 },
                { q: "ما عناصر الهوية البصرية الأساسية؟", a: ["الشعار والألوان والخطوط والأسلوب", "الشعار فقط", "الألوان فقط"], correct: 0 },
                { q: "لماذا نحتاج دليل الهوية البصرية؟", a: ["لضمان الاتساق في جميع التطبيقات", "غير ضروري", "للتعقيد"], correct: 0 },
                { q: "كيف نختار ألوان الهوية؟", a: ["بناءً على شخصية العلامة والجمهور المستهدف", "عشوائياً", "الأكثر شيوعاً"], correct: 0 },
                { q: "ما أهمية الاتساق في الهوية؟", a: ["يبني الثقة والتعرف على العلامة", "غير مهم", "يجعلها مملة"], correct: 0 }
            ],
            lesson14: [
                { q: "ما خصائص البروشور التجاري الناجح؟", a: ["معلومات واضحة وتصميم جذاب", "الألوان الكثيرة", "النص الطويل فقط"], correct: 0 },
                { q: "كيف ننظم المعلومات في البروشور؟", a: ["حسب الأهمية والتسلسل المنطقي", "عشوائياً", "كلها بنفس الأهمية"], correct: 0 },
                { q: "ما أهمية دعوة العمل (Call to Action)؟", a: ["توجه القارئ للخطوة التالية المطلوبة", "غير مهمة", "تشتت الانتباه"], correct: 0 },
                { q: "كيف نوازن بين النص والصور؟", a: ["بتوزيع متناسق يخدم الرسالة", "نص أكثر دائماً", "صور أكثر دائماً"], correct: 0 },
                { q: "ما أهمية مراجعة البروشور قبل الطباعة؟", a: ["للتأكد من صحة المعلومات والتصميم", "غير ضرورية", "إضاعة وقت"], correct: 0 }
            ],
            lesson15: [
                { q: "ما أهمية محفظة الأعمال للمصمم؟", a: ["تعرض مهاراته وتجذب العملاء", "غير مهمة", "للزينة فقط"], correct: 0 },
                { q: "كيف نسعر خدماتنا التصميمية؟", a: ["بناءً على الوقت والجهد وقيمة المشروع", "أقل سعر ممكن", "أعلى سعر ممكن"], correct: 0 },
                { q: "ما أهمية التواصل الجيد مع العميل؟", a: ["يضمن فهم المتطلبات ونجاح المشروع", "غير مهم", "يضيع الوقت"], correct: 0 },
                { q: "كيف نطور مهاراتنا باستمرار؟", a: ["بالممارسة ومتابعة الاتجاهات الجديدة", "بالتوقف عن التعلم", "بالتقليد فقط"], correct: 0 },
                { q: "ما أهمية بناء شبكة علاقات مهنية؟", a: ["تفتح فرص عمل وتبادل خبرات", "غير مفيدة", "تشتت التركيز"], correct: 0 }
            ]
        };

        // Global variables
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let userProgress = [];
        let totalXP = 0;
        let completedLessons = 0;
        let currentLevel = 1;
        let badges = [];

        // Local storage functions
        function saveProgress() {
            localStorage.setItem('academyProgress', JSON.stringify(userProgress));
        }

        function loadProgress() {
            const saved = localStorage.getItem('academyProgress');
            if (saved) {
                userProgress = JSON.parse(saved);
                updateStats();
                renderLessons();
                updateBadges();
            }
        }

        // Initialize the application
        async function initApp() {
            showLoading(true);
            
            // Initialize Element SDK
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (config) => {
                        document.title = config.academy_title || defaultConfig.academy_title;
                        document.getElementById('main-heading').textContent = config.main_heading || defaultConfig.main_heading;
                        document.getElementById('intro-text').textContent = config.intro_text || defaultConfig.intro_text;
                        document.getElementById('start-button').textContent = config.start_button_text || defaultConfig.start_button_text;
                        
                        // Apply colors
                        const bgColor = config.background_color || defaultConfig.background_color;
                        const surfaceColor = config.surface_color || defaultConfig.surface_color;
                        const textColor = config.text_color || defaultConfig.text_color;
                        const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
                        const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
                        
                        document.body.style.background = `linear-gradient(135deg, ${bgColor} 0%, #00C4B4 100%)`;
                        document.querySelectorAll('.section').forEach(el => el.style.backgroundColor = surfaceColor);
                        document.querySelectorAll('.section-title').forEach(el => el.style.color = primaryColor);
                        document.querySelectorAll('.lesson-btn').forEach(el => {
                            el.style.backgroundColor = primaryColor;
                        });
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [
                            {
                                get: () => config.background_color || defaultConfig.background_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ background_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.surface_color || defaultConfig.surface_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ surface_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ text_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.primary_action_color || defaultConfig.primary_action_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ primary_action_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ secondary_action_color: value });
                                    }
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ["academy_title", config.academy_title || defaultConfig.academy_title],
                        ["main_heading", config.main_heading || defaultConfig.main_heading],
                        ["intro_text", config.intro_text || defaultConfig.intro_text],
                        ["start_button_text", config.start_button_text || defaultConfig.start_button_text]
                    ])
                });
            }

            // Load saved progress
            loadProgress();
            renderLessons();
            showLoading(false);
        }

        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
        }

        function renderLessons() {
            const container = document.getElementById('lessons-container');
            container.innerHTML = '';

            lessons.forEach((lesson, index) => {
                const isCompleted = userProgress.some(p => p.lesson_id === lesson.id && p.completed);
                const isLocked = index > 0 && !userProgress.some(p => p.lesson_id === lessons[index - 1].id && p.completed) && index !== 0;

                const lessonCard = document.createElement('div');
                lessonCard.className = `lesson-card ${isCompleted ? 'completed' : ''}`;
                
                lessonCard.innerHTML = `
                    <div class="lesson-level">${lesson.level}</div>
                    <h3 class="lesson-title">${lesson.title}</h3>
                    <p class="lesson-description">${lesson.description}</p>
                    <button class="lesson-btn" ${isLocked ? 'disabled' : ''} onclick="startQuiz('${lesson.id}')">
                        ${isCompleted ? '✅ مكتمل - إعادة الاختبار' : isLocked ? '🔒 مقفل' : 'ابدأ الاختبار'}
                    </button>
                `;

                container.appendChild(lessonCard);
            });
        }

        function updateStats() {
            totalXP = userProgress.reduce((sum, p) => sum + (p.xp_earned || 0), 0);
            completedLessons = userProgress.filter(p => p.completed).length;
            currentLevel = Math.floor(totalXP / 500) + 1;

            document.getElementById('total-xp').textContent = totalXP;
            document.getElementById('completed-lessons').textContent = completedLessons;
            document.getElementById('current-level').textContent = currentLevel;
        }

        function updateBadges() {
            const badgesContainer = document.getElementById('badges-container');
            badgesContainer.innerHTML = '';

            const newBadges = [];

            // Achievement badges
            if (completedLessons >= 5) newBadges.push({ icon: '🎯', text: 'مبتدئ متميز' });
            if (completedLessons >= 10) newBadges.push({ icon: '🚀', text: 'مصمم متقدم' });
            if (completedLessons >= 15) newBadges.push({ icon: '👑', text: 'خبير التصميم' });
            if (totalXP >= 1000) newBadges.push({ icon: '💎', text: 'جامع النقاط' });
            if (currentLevel >= 3) newBadges.push({ icon: '⭐', text: 'نجم الأكاديمية' });

            newBadges.forEach(badge => {
                const badgeElement = document.createElement('div');
                badgeElement.className = 'badge';
                badgeElement.innerHTML = `${badge.icon} ${badge.text}`;
                badgesContainer.appendChild(badgeElement);
            });

            badges = newBadges;
        }

        async function startQuiz(lessonId) {
            const lesson = lessons.find(l => l.id === lessonId);
            const quiz = quizzes[lessonId];
            
            if (!quiz) {
                showInlineMessage('عذراً، الاختبار غير متوفر حالياً', 'error');
                return;
            }

            currentQuiz = { lessonId, lesson, questions: quiz };
            currentQuestionIndex = 0;
            userAnswers = [];

            document.getElementById('quiz-title').textContent = `اختبار: ${lesson.title}`;
            renderCurrentQuestion();
            document.getElementById('quiz-modal').style.display = 'flex';
        }

        function renderCurrentQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            const container = document.getElementById('quiz-questions-container');
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / currentQuiz.questions.length) * 100;
            document.getElementById('quiz-progress').style.width = `${progress}%`;
            document.getElementById('quiz-question-counter').textContent = 
                `السؤال ${currentQuestionIndex + 1} من ${currentQuiz.questions.length}`;

            container.innerHTML = `
                <div class="question">
                    <div class="question-text">${question.q}</div>
                    ${question.a.map((answer, index) => `
                        <div class="answer-option" onclick="selectAnswer(${index})">
                            ${answer}
                        </div>
                    `).join('')}
                </div>
            `;

            // Update next button
            const nextBtn = document.getElementById('next-question-btn');
            if (currentQuestionIndex === currentQuiz.questions.length - 1) {
                nextBtn.textContent = 'إنهاء الاختبار';
            } else {
                nextBtn.textContent = 'السؤال التالي';
            }
            nextBtn.disabled = true;
        }

        function selectAnswer(answerIndex) {
            // Remove previous selections
            document.querySelectorAll('.answer-option').forEach(option => {
                option.classList.remove('selected');
            });

            // Select current answer
            document.querySelectorAll('.answer-option')[answerIndex].classList.add('selected');
            userAnswers[currentQuestionIndex] = answerIndex;

            // Enable next button
            document.getElementById('next-question-btn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                currentQuestionIndex++;
                renderCurrentQuestion();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            showLoading(true);
            
            // Calculate score
            let correctAnswers = 0;
            currentQuiz.questions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    correctAnswers++;
                }
            });

            const score = (correctAnswers / currentQuiz.questions.length) * 100;
            const passed = score >= 60;
            const xpEarned = passed ? currentQuiz.lesson.xp : Math.floor(currentQuiz.lesson.xp * 0.3);

            // Save progress locally
            const existingProgressIndex = userProgress.findIndex(p => p.lesson_id === currentQuiz.lessonId);
            
            if (existingProgressIndex !== -1) {
                // Update existing progress
                userProgress[existingProgressIndex] = {
                    ...userProgress[existingProgressIndex],
                    completed: passed,
                    score: score,
                    xp_earned: xpEarned,
                    completed_at: new Date().toISOString()
                };
            } else {
                // Create new progress
                userProgress.push({
                    lesson_id: currentQuiz.lessonId,
                    completed: passed,
                    score: score,
                    xp_earned: xpEarned,
                    completed_at: new Date().toISOString()
                });
            }

            // Save to localStorage
            saveProgress();
            
            // Update UI
            updateStats();
            renderLessons();
            updateBadges();

            showLoading(false);
            closeQuiz();

            // Show results
            const resultMessage = passed 
                ? `🎉 مبروك! لقد نجحت في الاختبار بنسبة ${score.toFixed(0)}% وحصلت على ${xpEarned} نقطة خبرة!`
                : `📚 لم تنجح هذه المرة (${score.toFixed(0)}%)، لكن حصلت على ${xpEarned} نقطة. حاول مرة أخرى!`;
            
            showInlineMessage(resultMessage, passed ? 'success' : 'warning');
        }

        function closeQuiz() {
            document.getElementById('quiz-modal').style.display = 'none';
            currentQuiz = null;
            currentQuestionIndex = 0;
            userAnswers = [];
        }

        function scrollToLessons() {
            document.getElementById('lessons-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function showInlineMessage(message, type = 'info') {
            // Create message element
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10B981' : type === 'error' ? '#EF4444' : '#3B82F6'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 2000;
                max-width: 400px;
                font-size: 14px;
                line-height: 1.4;
            `;
            messageDiv.textContent = message;
            
            document.body.appendChild(messageDiv);
            
            // Remove after 5 seconds
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.parentNode.removeChild(messageDiv);
                }
            }, 5000);
        }

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9967863ce7e5a96f',t:'MTc2MTc5MTc3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
